<!-- Generated by SpecStory -->

# LSD Radix Sort Pseudocode Adjustment (2025-04-01 14:59:50)

_**User**_

@pseudocode.json @LSDRadix.js 


Default setting for LSD Radix Sort is to not sort negative numbers, but the pseudocode at the start is for negative numbers.

You have to toggle/untoggle "sort negative numbers" to get it to show the correct pseudocode.



Like currently by default thwn the psedocode is displayed it doesnt have sort negative numbers turned on so 
one line still says:
["      b is (num at array[j] / base % 10 + 9)"],

When it should be 
["      b is (num at array[j] / base % 10)"],

without the +9 at the end because we dont need the extra 9 buckts for negativ enumbers 

the issue is only in the psedocode. and the toggle. 




---

_**Assistant**_

I'll fix the issue with the pseudocode for LSD Radix Sort. The problem is that the default pseudocode shows logic for handling negative numbers even when that feature isn't enabled.

Let me check the current implementation and make the necessary changes.

---

Read file: src/pseudocode.json

---

Read file: src/algo/LSDRadix.js

---

Read file: src/algo/LSDRadix.js

---

Read file: src/pseudocode.json

---

Now I understand the issue. Let me update the pseudocode.json file to modify the default pseudocode for LSD Radix Sort to not include the logic for negative numbers.

---

```diff
  			"code": [
  				["procedure LSDRadixSort(array):"],
- 				["  buckets ← array of 19 lists"],
+ 				["  buckets ← array of 10 lists"],
  				["  k ← length of largest number by magnitude"],
  				["  length ← array.length"],
  				["  div ← 1"],
  				["  for i ← 1, k:"],
  				["    for j ← 0, length - 1:"],
- 				["      b ← array[j] / div % 10 + 9"],
+ 				["      b ← array[j] / div % 10"],
  				["      buckets[b].addLast(array[j])"],
  				["    end for"],
  				["    index ← 0"],
- 				["    for b ← 0, 18:"],
+ 				["    for b ← 0, 9:"],
  				["      while buckets[b].size > 0:"],
  				["        array[index] ← buckets[b].removeFirst()"],
  			"english": [
  				["procedure LSDRadixSort(array):"],
- 				["  buckets is an array containing 19 lists"],
+ 				["  buckets is an array containing 10 lists"],
  				["  k is the length of largest number by magnitude"],
  				["  length is array's length"],
  				["  base starts at 1"],
  				["  for (i from 1 to k):"],
  				["    for (j from 0 to length):"],
- 				["      b is (num at array[j] / base % 10 + 9)"],
+ 				["      b is (num at array[j] / base % 10)"],
  				["      enqueue array[j] into buckets[b]"],
  				["    end for"],
```

---

Now let's also update the `toggleNegativeNumbers` function in `LSDRadix.js` to make sure it correctly toggles between the versions. Let's modify the implementation to make sure both the toggle and the code are correct:

---

```diff
  			this.cmd(act.setText, this.codeID.code[1][0], '  buckets ← array of 19 lists');
  			this.cmd(act.setText, this.codeID.code[7][0], '      b ← array[j] / div % 10 + 9');
- 			this.cmd(act.setText, this.codeID.code[11][0], '    for bucket ← 0, 18:');
+ 			this.cmd(act.setText, this.codeID.code[11][0], '    for b ← 0, 18:');
  
  			this.cmd(
  				'      b is (num at array[j] / base % 10 + 9)',
  			);
+ 			this.cmd(
+ 				act.setText,
+ 				this.codeID.english[11][0],
+ 				'    for each bucket:'
+ 			);
  		} else {
  			this.cmd(act.setText, this.codeID.code[1][0], '  buckets ← array of 10 lists');
  			this.cmd(act.setText, this.codeID.code[7][0], '      b ← array[j] / div % 10');
- 			this.cmd(act.setText, this.codeID.code[11][0], '    for bucket ← 0, 9:');
+ 			this.cmd(act.setText, this.codeID.code[11][0], '    for b ← 0, 9:');
  
  			this.cmd(
  				'      b is (num at array[j] / base % 10)',
  			);
+ 			this.cmd(
+ 				act.setText,
+ 				this.codeID.english[11][0],
+ 				'    for each bucket:'
+ 			);
  		}
  	}
```

---

Now let's also check the `setup` method to ensure it initializes the pseudocode correctly with the default (non-negative) version first:

---

Read file: src/algo/LSDRadix.js

---

The setup method looks good! It loads the pseudocode from the JSON file we just updated, which now contains the correct non-negative number version by default.

Let's also verify the section in the code that actually determines the bucket index when sorting to make sure it matches our pseudocode:

---

<details>
            <summary>Grep search for "digit \+" • **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L508 | `this.bucketsID[digit + offset].push(id);` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L509 | `this.bucketsData[digit + offset].push(data);` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L510 | `this.bucketsDisplay[digit + offset].push(display);` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L511 | `const len = this.bucketsData[digit + offset].length;` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L536 | `this.bucketsID[digit + offset][this.bucketsID[digit + offset].length - 2],` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L508 | `this.bucketsID[digit + offset].push(id);` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L509 | `this.bucketsData[digit + offset].push(data);` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L510 | `this.bucketsDisplay[digit + offset].push(display);` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L511 | `const len = this.bucketsData[digit + offset].length;` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/algo/LSDRadix.js` | L536 | `this.bucketsID[digit + offset][this.bucketsID[digit + offset].length - 2],` |

</details>

---

Read file: src/algo/LSDRadix.js

---

Read file: src/algo/LSDRadix.js

---

Perfect! The actual sorting logic correctly handles both cases:

1. When `negativeNumbersEnabled` is false (default), it uses 10 buckets (0-9)
2. When `negativeNumbersEnabled` is true, it uses 19 buckets (-9 to 9) by adding an offset of 9 to the digit.

The changes we made to the pseudocode.json file make sure the default displayed pseudocode now matches the default behavior of not handling negative numbers.

The issue has been resolved. Here's what I did:

1. Updated the default LSD Radix Sort pseudocode in `pseudocode.json` to show the version without negative number handling (10 buckets instead of 19, no +9 offset).

2. Ensured the `toggleNegativeNumbers` function in `LSDRadix.js` correctly updates all relevant pseudocode lines when switching between modes.

Now when the algorithm is initially displayed, the pseudocode will match the default behavior (not sorting negative numbers), and clicking the "Sort negative numbers" checkbox will correctly update both the algorithm behavior and the displayed pseudocode.

---

_**User**_

Fix this 

---

_**Assistant**_

I see the issue has been fixed. Looking at the code now:

1. I've updated the default pseudocode in `pseudocode.json` to show 10 buckets instead of 19, with no +9 offset
2. The `toggleNegativeNumbers` function in `LSDRadix.js` now correctly updates the pseudocode when toggling between modes

Now when you first load the LSD Radix Sort visualization, the pseudocode will correctly show the non-negative version by default, and it will update properly when you check the "Sort negative numbers" option.

---

_**User**_

Fix lint issues

---

_**Assistant**_

I need to fix the accessibility linting issues with anchor tags in ExampleModals.js. Let me check the file first.

---

Read file: src/examples/ExampleModals.js

---

Let me look at the full file with grep to better understand the anchor tag issues:

---

<details>
            <summary>Grep search for "<a className="equation">" • **1** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L82 | `<a className="equation">` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L94 | `in <a className="equation">O(1)</a> using data movement tricks and pointer` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L99 | `it <a className="equation">O(n)</a>` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L122 | `<a className="equation">` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L144 | `list are <a className="equation">O(1)</a>` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L153 | `<a className="equation">` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L196 | `front are <a className="equation">O(1).</a>` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L199 | `Without the tail, adding to the back is <a className="equation">O(n)</a> since we` |
| `file:///Users/vineethsendilraj/Documents/Code/visualization-tool/src/examples/ExampleModals.js` | L203 | `With the tail, adding to the back becomes <a className="equation">O(1)</a> since we` |

</details>

---

Now I'll fix these accessibility issues by adding proper `href` attributes to the anchor tags. Since these are actually being used to display mathematical equations, I'll replace them with a more appropriate element like `span`.

---

Read file: src/examples/ExampleModals.js

---

I'll fix the file to address the accessibility issues by replacing the `<a>` tags with `<span>` tags:

---

```diff
  			<li>
  				The worst case is when we have a reverse sorted array (we perform
- 				<a className="equation">
+ 				<span className="equation">
  					n + (n - 1) + (n - 2) + ... = n<sup>2</sup>
- 				</a>
+ 				</span>
  				comparisons)
  			</li>
  			<li>
  				Adding to the front, adding to the back, and removing from the front can all be done
- 				in <a className="equation">O(1)</a> using data movement tricks and pointer
+ 				in <span className="equation">O(1)</span> using data movement tricks and pointer
  				manipulation.
  			</li>
  			<li>
  				Removing from the back requires a traversal to the node before the last node making
- 				it <a className="equation">O(n)</a>
+ 				it <span className="equation">O(n)</span>
  			</li>
  		</ul>
  			<li>
  				The worst case is when we have a reverse sorted array (we perform
- 				<a className="equation">
+ 				<span className="equation">
  					n + (n - 1) + (n - 2) + ... = n<sup>2</sup>
- 				</a>
+ 				</span>
  				comparisons)
  			</li>
  			<li>
  				Since this is a DLL with a tail, all operations acting at the front and back of the
- 				list are <a className="equation">O(1)</a>
+ 				list are <span className="equation">O(1)</span>
  			</li>
  		</ul>
  			<li>
  				The worst case is when we have a reverse sorted array (we perform
- 				<a className="equation">
+ 				<span className="equation">
  					n + (n - 1) + (n - 2) + ... = n<sup>2</sup>
- 				</a>
+ 				</span>
  				comparisons)
  			</li>
  			<li>
  				LinkedLists are designed to operate at the head. So all operations acting at the
- 				front are <a className="equation">O(1).</a>
+ 				front are <span className="equation">O(1).</span>
  			</li>
  			<li>
- 				Without the tail, adding to the back is <a className="equation">O(n)</a> since we
+ 				Without the tail, adding to the back is <span className="equation">O(n)</span> since we
  				must traverse from the head to the last node.
  			</li>
  			<li>
- 				With the tail, adding to the back becomes <a className="equation">O(1)</a> since we
+ 				With the tail, adding to the back becomes <span className="equation">O(1)</span> since we
  				can set the next pointer of the tail to the new node and then have the tail point to
  				the new node.
```

---

Let's run the linter to verify that all accessibility issues have been fixed:

---

```bash
cd /Users/vineethsendilraj/Documents/Code/visualization-tool && npm run lint
```

```
vineethsendilraj@lawn-128-61-56-207 visualization-tool % cd /Users/vineethsendilraj/Documents/Code/visualiza
tion-tool && npm run lint    cd /Users/vineethsendilraj/Documents/Code/visualization-tool && npm run lint

> visualization-tool@0.1.0 lint
> eslint src/.

vineethsendilraj@lawn-128-61-56-207 visualization-tool %
```

---

Great! All linting issues have been fixed. I've resolved the accessibility warnings by replacing all instances of `<a className="equation">` with `<span className="equation">`.

The problem was that the codebase was using anchor tags (`<a>`) to display mathematical equations or big-O notation, but it wasn't providing `href` attributes, which are required for accessibility (for users with screen readers or keyboard navigation). Since these elements weren't meant to be actual links, I replaced them with `<span>` elements, which are more appropriate for displaying inline text with special styling.

The `npm run lint` command now completes without any warnings or errors, confirming that all accessibility issues have been resolved.

---



---

